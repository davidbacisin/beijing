!function(e){function t(e,t){var n=e.classList;return n&&n.contains(t)}function n(e,t){e.classList.add(t)}function r(e,t){e.classList.remove(t)}function i(e,n){for(var r=e.parentNode;r&&!t(r,n);)r=r.parentNode;return r}function a(e,n){for(var r=e.previousSibling;r&&!t(r,n);)r=r.previousSibling;return r}function o(e){for(var t;t=e.lastChild;)e.removeChild(t)}function c(t,n){return n=n||e,n.getElementsByClassName(t)}function l(t,n){return n=n||e,n.getElementsByTagName(t)}function g(t){return e.getElementById(t)}function f(t){return e.createElement(t)}function u(e){var t=new Image;return t.src=e,t}function s(e){setTimeout(function(){try{var o=i(e,"gallery").id,f=g(o+"-fig"),u=l("img",f)[0];u.src=l("img",e)[0].src;var s=c("image-container",f)[0],d=t(e,"p")?n:r;d(s,"p");var p=l("a",f)[0];p.setAttribute("href",u.src);var m=a(e,"caption"),v=l("figcaption",f)[0];v.innerHTML=m.innerHTML}catch(e){console.log("An exception occured while setting the gallery image:"),console.log(e)}},0)}e.body.addEventListener("click",function(e){var n=e.target,r=n.parentNode;t(r,"image-link")?s(r):t(n,"image-link")&&s(n)});for(var d=c("gallery"),p=0;p<d.length;p++){var m=d[p],v=f("figure");v.className="image-fig",v.id=m.id+"-fig";var h=c("caption",m)[0],N=c("image-link",m)[0],b=f("div"),C=f("figcaption"),A=f("button"),L=N.cloneNode(!0),y=L.getAttribute("href");if(L.setAttribute("href",y.replace(/-110\./,"-1200.")),b.className="image-container",v.appendChild(b),A.innerHTML="Next",v.appendChild(A),h.parentNode===N.parentNode){var C=f("figcaption");C.innerHTML=h.innerHTML,v.appendChild(C)}v.appendChild(L),m.parentNode.insertBefore(v,m)}for(var T=c("image-fig"),p=0;p<T.length;p++){var k=T[p],L=c("image-link",k)[0],y=L.getAttribute("href"),E=u(y);L.className="",L.setAttribute("href",y.replace(/-[0-9]+\./,"-1200.")),o(L),L.appendChild(E);var b=c("image-container",k)[0];b.appendChild(L)}for(var H=c("image-link"),p=0;p<H.length;p++){var M=H[p],E=u(M.getAttribute("href"));o(M),M.appendChild(E),M.removeAttribute("href"),M.removeAttribute("target")}}(document);