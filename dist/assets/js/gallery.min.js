!function(e){function t(e,t){var n=t.classList;return n&&n.contains(e)}function n(e,n){for(n=n.parentNode;n&&!t(e,n);)n=n.parentNode;return n}function r(e,n){for(n=n.previousSibling;n&&!t(e,n);)n=n.previousSibling;return n}function a(e,t){for(;t=e.lastChild;)e.removeChild(t)}function i(t,n){return n=n||e,n.getElementsByClassName(t)}function l(t,n){return n=n||e,n.getElementsByTagName(t)}function o(t){return e.getElementById(t)}function c(t){return e.createElement(t)}function s(e,t){return t.getAttribute(e)}function f(){var t=window.devicePixelRatio||1,n=t*(e.documentElement.clientWidth-20);return n<=480?480:n<=600||1==t?600:1200}function p(e){return e.replace(/(-t)?\.jpg$/,"-"+f()+".jpg")}function u(e,t){return t=new Image,t.src=e,t}function g(e){setTimeout(function(){try{var a=n("gallery",e),c=o(a.id+"-fig"),f=l("img",e)[0],u=l("img",c)[0];u.style.display="none",u.src=p(f.src);var g=i(d,c)[0],v=t("p",e)?g.classList.add:g.classList.remove;v.call(g.classList,"p"),u.style.display="block";var m=l("a",c)[0];m.setAttribute("href",f.src.replace("-t.","."));var h=r("caption",e),N=l("figcaption",c)[0];N.innerHTML=h.innerHTML;var b=i("current",c)[0];b.textContent=s("data-index",e)}finally{}},0)}var d="image-container",v="image-link",m='<div class="image-container{p}"></div><nav><a class="in prev" title="Previous" href="#">◀</a> <span class="counter"><span class="current">1</span> of {count}</span> <a class="in next" title="Next" href="#">▶</a></nav><figcaption>{caption}</figcaption><a class="image-link" href="{href}" target="_blank"></a>';e.body.addEventListener("click",function(e){var r=e.target,a=r.parentNode;if(t(v,a))e.preventDefault(),g(a);else if(t(v,r))e.preventDefault(),g(r);else if(t("in",r)){e.preventDefault();var c=parseInt(i("current",a)[0].textContent),s=n("image-fig",a).id,f=o(s.replace("-fig","")),p=l("li",f);t("prev",r)&&(c-=2),c=(c+p.length)%p.length,r=i(v,p[c])[0],g(r)}});for(var h=i("gallery"),N=0;N<h.length;N++){var b=h[N],y=c("figure");y.className="image-fig",y.id=b.id+"-fig";var L=i("caption",b)[0],C=i(v,b),x=C[0],A=m;A=A.replace("{href}",s("href",x)),A=A.replace("{count}",C.length),A=A.replace("{p}",t("p",x)?" p":""),L.parentNode===x.parentNode&&(A=A.replace("{caption}",L.innerHTML)),y.innerHTML=A,b.parentNode.insertBefore(y,b)}for(var E=i("image-fig"),N=0;N<E.length;N++){var T=E[N],k=i(v,T)[0],j=s("href",k),w=u(p(j));k.className="",k.setAttribute("href",j),a(k),k.appendChild(w);var B=i(d,T)[0];B.appendChild(k)}for(var C=i(v),N=0;N<C.length;N++){var H=C[N],w=u(s("href",H).replace(".jpg","-t.jpg"));a(H);for(var M=1,D=H.parentNode;D=D.previousSibling;)"li"==D.nodeName.toLowerCase()&&M++;H.setAttribute("data-index",M),H.appendChild(w),H.removeAttribute("href"),H.removeAttribute("target")}}(document);